<section class="verbal-single" id="J_verbal-{$verbal.index}">
    <div class="hd">
        <p>
            {if count($verbal.choices) == 1}
            Select one entry for the blank. Fill the blank in the way that best completes the text.
            {else}
            For each blank select one entry from the corresponding column of choices. Fill all blanks in the way that best completes the text.
            {/if}
        </p>
    </div>
    <div class="bd J_question">
        <p>{$verbal.question}</p>
        <div class="answers">
            {foreach from=$verbal.choices item="choices" key="key"}
            <dl>
                <dt>{if count($verbal.choices) > 1}{if $key == 0}Blank (i){elseif $key == 1}Blank (ii){else}Blank (iii){/if}{/if}</dt>
                <dd>
                    <ul>
                        {foreach from=$choices item="choice"}
                        <li>{$choice}</li>
                        {/foreach}
                    </ul>
                </dd>
            </dl>
            {/foreach}
        </div>
    </div>
</section>
<script type="text/javascript">
(function () {
    var verbal = '#J_verbal-{$verbal.index}';
    jQuery.data($(verbal)[0], { qid: '{$verbal.qid}', count: {count($verbal.choices)}, answer: '{$verbal.answer}', explain: '{$verbal.explain}' });
    $(verbal + ' li').click(function (evt) {
        var me = this;
        if ($(me).hasClass('active')) {
            return false;
        }
        $(me).siblings().removeClass('active');
        $(me).addClass('active');
    });
}) ();
</script>